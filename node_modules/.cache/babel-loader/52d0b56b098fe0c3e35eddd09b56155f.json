{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect}from'react';import{LinkContainer}from'react-router-bootstrap';import{Table,Button,Row,Col,Container}from'react-bootstrap';import{useHistory}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import Message from'./../../../../components/Message/Message';import Loader from'./../../../../components/Loader/Loader';import{listConsumerProducts,deleteConsumerProduct,createConsumer}from'./../../../../actions/consumerProductAction';import{CONSUMER_CREATE_RESET}from'./../../../../constants/productConstants';var ConsumerList=function ConsumerList(){var dispatch=useDispatch();var history=useHistory();var consumerProductList=useSelector(function(state){return state.consumerProductList;});var loadingConsumer=consumerProductList.loading,errorConsumer=consumerProductList.error,consumerProducts=consumerProductList.consumerProducts;var consumerProductDelete=useSelector(function(state){return state.consumerProductDelete;});var deleteLoadingConsumer=consumerProductDelete.loading,errorDeleteConsumer=consumerProductDelete.error,successDelete=consumerProductDelete.success;var consumerCreate=useSelector(function(state){return state.consumerCreate;});var createLoadingConsumer=consumerCreate.loading,errorcreateConsumer=consumerCreate.error,successCreate=consumerCreate.success,consumerProduct=consumerCreate.product;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;useEffect(function(){dispatch({type:CONSUMER_CREATE_RESET});if(!userInfo.isAdmin&&!userInfo){history.push('/login');}else{if(successCreate){history.push(\"/admin/productlist/consumer/\".concat(consumerProduct._id,\"/edit\"));}else{dispatch(listConsumerProducts());}}},[dispatch,history,userInfo,successDelete,successCreate,consumerProduct]);var deleteHandler=function deleteHandler(id){if(window.confirm('Are you sure')){dispatch(deleteConsumerProduct(id));}};var createConsumerProductHandler=function createConsumerProductHandler(){dispatch(createConsumer());};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h1\",{style:{marginBottom:'20px'},children:\"Consumer\"})}),/*#__PURE__*/_jsx(Col,{className:\"text-right\",children:/*#__PURE__*/_jsxs(Button,{className:\"my-3\",onClick:createConsumerProductHandler,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\" Create Product\"]})})]}),createLoadingConsumer&&/*#__PURE__*/_jsx(Loader,{}),errorcreateConsumer&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorcreateConsumer}),deleteLoadingConsumer&&/*#__PURE__*/_jsx(Loader,{}),errorDeleteConsumer&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorDeleteConsumer}),loadingConsumer?/*#__PURE__*/_jsx(Loader,{}):errorConsumer?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorConsumer}):/*#__PURE__*/_jsxs(Table,{style:{marginBottom:'50px'},striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"td\",{children:\"SELLER NAME\"}),/*#__PURE__*/_jsx(\"td\",{children:\"PRODUCT NAME\"}),/*#__PURE__*/_jsx(\"td\",{children:\"AVALAIBLE LOCATION\"}),/*#__PURE__*/_jsx(\"td\",{children:\"EDIT / DELETE\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:consumerProducts.map(function(consumer){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:consumer._id}),/*#__PURE__*/_jsx(\"td\",{children:consumer.seller_name}),/*#__PURE__*/_jsx(\"td\",{children:consumer.prod_name}),/*#__PURE__*/_jsx(\"td\",{children:consumer.avalaible_location}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/productlist/consumer/\".concat(consumer._id,\"/edit\"),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btn-sm mr-2\",onClick:function onClick(){return deleteHandler(consumer._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash-alt\"})})]})]},consumer._id);})})]})]});};export default ConsumerList;","map":{"version":3,"sources":["C:/Users/hasit/Desktop/Project new new/web-cw-main/web-cw-main/frontend/src/components/DashBoard/ProductList/ConsumerList/ConsumerList.jsx"],"names":["React","useEffect","LinkContainer","Table","Button","Row","Col","Container","useHistory","useDispatch","useSelector","Message","Loader","listConsumerProducts","deleteConsumerProduct","createConsumer","CONSUMER_CREATE_RESET","ConsumerList","dispatch","history","consumerProductList","state","loadingConsumer","loading","errorConsumer","error","consumerProducts","consumerProductDelete","deleteLoadingConsumer","errorDeleteConsumer","successDelete","success","consumerCreate","createLoadingConsumer","errorcreateConsumer","successCreate","consumerProduct","product","userLogin","userInfo","type","isAdmin","push","_id","deleteHandler","id","window","confirm","createConsumerProductHandler","marginBottom","map","consumer","seller_name","prod_name","avalaible_location"],"mappings":"wFAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,aAAT,KAA8B,wBAA9B,CACA,OACIC,KADJ,CAEIC,MAFJ,CAGIC,GAHJ,CAIIC,GAJJ,CAKIC,SALJ,KAMO,iBANP,CAOA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,OAAP,KAAoB,0CAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wCAAnB,CACA,OAASC,oBAAT,CAA+BC,qBAA/B,CAAsDC,cAAtD,KAA4E,6CAA5E,CACA,OAASC,qBAAT,KAAsC,0CAAtC,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAEvB,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,GAAIU,CAAAA,OAAO,CAAGX,UAAU,EAAxB,CAEA,GAAMY,CAAAA,mBAAmB,CAAGV,WAAW,CAAC,SAAAW,KAAK,QAAIA,CAAAA,KAAK,CAACD,mBAAV,EAAN,CAAvC,CALuB,GAMNE,CAAAA,eANM,CAMsDF,mBANtD,CAMfG,OANe,CAMkBC,aANlB,CAMsDJ,mBANtD,CAMWK,KANX,CAMiCC,gBANjC,CAMsDN,mBANtD,CAMiCM,gBANjC,CAQvB,GAAMC,CAAAA,qBAAqB,CAAGjB,WAAW,CAAC,SAAAW,KAAK,QAAIA,CAAAA,KAAK,CAACM,qBAAV,EAAN,CAAzC,CARuB,GASNC,CAAAA,qBATM,CASwED,qBATxE,CASfJ,OATe,CASwBM,mBATxB,CASwEF,qBATxE,CASiBF,KATjB,CASsDK,aATtD,CASwEH,qBATxE,CAS6CI,OAT7C,CAWvB,GAAMC,CAAAA,cAAc,CAAGtB,WAAW,CAAC,SAAAW,KAAK,QAAIA,CAAAA,KAAK,CAACW,cAAV,EAAN,CAAlC,CAXuB,GAaVC,CAAAA,qBAbU,CAiBnBD,cAjBmB,CAanBT,OAbmB,CAcZW,mBAdY,CAiBnBF,cAjBmB,CAcnBP,KAdmB,CAeVU,aAfU,CAiBnBH,cAjBmB,CAenBD,OAfmB,CAgBVK,eAhBU,CAiBnBJ,cAjBmB,CAgBnBK,OAhBmB,CAmBvB,GAAMC,CAAAA,SAAS,CAAG5B,WAAW,CAAC,SAAAW,KAAK,QAAIA,CAAAA,KAAK,CAACiB,SAAV,EAAN,CAA7B,CAnBuB,GAoBfC,CAAAA,QApBe,CAoBFD,SApBE,CAoBfC,QApBe,CAsBvBtC,SAAS,CAAC,UAAM,CACZiB,QAAQ,CAAC,CAAEsB,IAAI,CAAExB,qBAAR,CAAD,CAAR,CACA,GAAI,CAACuB,QAAQ,CAACE,OAAV,EAAqB,CAACF,QAA1B,CAAoC,CAChCpB,OAAO,CAACuB,IAAR,CAAa,QAAb,EACH,CAFD,IAEO,CACH,GAAIP,aAAJ,CAAmB,CACfhB,OAAO,CAACuB,IAAR,uCAA4CN,eAAe,CAACO,GAA5D,WACH,CAFD,IAEO,CACHzB,QAAQ,CAACL,oBAAoB,EAArB,CAAR,CACH,CACJ,CACJ,CAXQ,CAWN,CAACK,QAAD,CAAWC,OAAX,CAAoBoB,QAApB,CAA8BT,aAA9B,CAA6CK,aAA7C,CAA4DC,eAA5D,CAXM,CAAT,CAaA,GAAMQ,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,EAAD,CAAQ,CAC1B,GAAIC,MAAM,CAACC,OAAP,CAAe,cAAf,CAAJ,CAAoC,CAChC7B,QAAQ,CAACJ,qBAAqB,CAAC+B,EAAD,CAAtB,CAAR,CACH,CACJ,CAJD,CAMA,GAAMG,CAAAA,4BAA4B,CAAG,QAA/BA,CAAAA,4BAA+B,EAAM,CACvC9B,QAAQ,CAACH,cAAc,EAAf,CAAR,CACH,CAFD,CAIA,mBACI,MAAC,SAAD,yBACI,MAAC,GAAD,yBACI,KAAC,GAAD,wBACI,WAAI,KAAK,CAAE,CAAEkC,YAAY,CAAE,MAAhB,CAAX,sBADJ,EADJ,cAII,KAAC,GAAD,EAAK,SAAS,CAAC,YAAf,uBACI,MAAC,MAAD,EAAQ,SAAS,CAAC,MAAlB,CAAyB,OAAO,CAAED,4BAAlC,wBACI,UAAG,SAAS,CAAC,aAAb,EADJ,qBADJ,EAJJ,GADJ,CAWMf,qBAAqB,eAAI,KAAC,MAAD,IAX/B,CAYMC,mBAAmB,eAAI,KAAC,OAAD,EAAS,OAAO,CAAC,QAAjB,UAA2BA,mBAA3B,EAZ7B,CAaMN,qBAAqB,eAAI,KAAC,MAAD,IAb/B,CAcMC,mBAAmB,eAAI,KAAC,OAAD,EAAS,OAAO,CAAC,QAAjB,UAA2BA,mBAA3B,EAd7B,CAeKP,eAAe,cAAG,KAAC,MAAD,IAAH,CACVE,aAAa,cAAG,KAAC,OAAD,EAAS,OAAO,CAAC,QAAjB,UAA2BA,aAA3B,EAAH,cAEP,MAAC,KAAD,EAAO,KAAK,CAAE,CAAEyB,YAAY,CAAE,MAAhB,CAAd,CAAwC,OAAO,KAA/C,CAAgD,QAAQ,KAAxD,CAAyD,KAAK,KAA9D,CAA+D,UAAU,KAAzE,CAA0E,SAAS,CAAC,UAApF,wBACI,oCACI,mCACI,0BADJ,cAEI,mCAFJ,cAGI,oCAHJ,cAII,0CAJJ,cAKI,qCALJ,GADJ,EADJ,cAUI,uBAEQvB,gBAAgB,CAACwB,GAAjB,CAAqB,SAAAC,QAAQ,qBACzB,mCACI,oBAAKA,QAAQ,CAACR,GAAd,EADJ,cAEI,oBAAKQ,QAAQ,CAACC,WAAd,EAFJ,cAGI,oBAAKD,QAAQ,CAACE,SAAd,EAHJ,cAII,oBAAKF,QAAQ,CAACG,kBAAd,EAJJ,cAKI,mCACI,KAAC,aAAD,EAAe,EAAE,uCAAiCH,QAAQ,CAACR,GAA1C,SAAjB,uBACI,KAAC,MAAD,EAAQ,OAAO,CAAC,OAAhB,CAAwB,SAAS,CAAC,YAAlC,uBACI,UAAG,SAAS,CAAC,aAAb,EADJ,EADJ,EADJ,cAMI,KAAC,MAAD,EACI,OAAO,CAAC,QADZ,CAEI,SAAS,CAAC,aAFd,CAGI,OAAO,CAAE,yBAAMC,CAAAA,aAAa,CAACO,QAAQ,CAACR,GAAV,CAAnB,EAHb,uBAKI,UAAG,SAAS,CAAC,kBAAb,EALJ,EANJ,GALJ,GAASQ,QAAQ,CAACR,GAAlB,CADyB,EAA7B,CAFR,EAVJ,GAlBhB,GADJ,CA4DH,CAzGD,CA2GA,cAAe1B,CAAAA,YAAf","sourcesContent":["import React, { useEffect } from 'react'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport {\n    Table,\n    Button,\n    Row,\n    Col,\n    Container\n} from 'react-bootstrap'\nimport { useHistory } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Message from './../../../../components/Message/Message'\nimport Loader from './../../../../components/Loader/Loader'\nimport { listConsumerProducts, deleteConsumerProduct, createConsumer } from './../../../../actions/consumerProductAction'\nimport { CONSUMER_CREATE_RESET } from './../../../../constants/productConstants'\n\nconst ConsumerList = () => {\n\n    const dispatch = useDispatch()\n    let history = useHistory()\n\n    const consumerProductList = useSelector(state => state.consumerProductList)\n    const { loading: loadingConsumer, error: errorConsumer, consumerProducts } = consumerProductList\n\n    const consumerProductDelete = useSelector(state => state.consumerProductDelete)\n    const { loading: deleteLoadingConsumer, error: errorDeleteConsumer, success: successDelete } = consumerProductDelete\n\n    const consumerCreate = useSelector(state => state.consumerCreate)\n    const {\n        loading: createLoadingConsumer,\n        error: errorcreateConsumer,\n        success: successCreate,\n        product: consumerProduct\n    } = consumerCreate\n\n    const userLogin = useSelector(state => state.userLogin)\n    const { userInfo } = userLogin\n\n    useEffect(() => {\n        dispatch({ type: CONSUMER_CREATE_RESET })\n        if (!userInfo.isAdmin && !userInfo) {\n            history.push('/login')\n        } else {\n            if (successCreate) {\n                history.push(`/admin/productlist/consumer/${consumerProduct._id}/edit`)\n            } else {\n                dispatch(listConsumerProducts())\n            }\n        }\n    }, [dispatch, history, userInfo, successDelete, successCreate, consumerProduct])\n\n    const deleteHandler = (id) => {\n        if (window.confirm('Are you sure')) {\n            dispatch(deleteConsumerProduct(id))\n        }\n    }\n\n    const createConsumerProductHandler = () => {\n        dispatch(createConsumer())\n    }\n\n    return (\n        <Container>\n            <Row>\n                <Col>\n                    <h1 style={{ marginBottom: '20px' }}>Consumer</h1>\n                </Col>\n                <Col className=\"text-right\">\n                    <Button className='my-3' onClick={createConsumerProductHandler}>\n                        <i className='fas fa-plus'></i> Create Product\n                    </Button>\n                </Col>\n            </Row>\n            { createLoadingConsumer && <Loader />}\n            { errorcreateConsumer && <Message variant='danger'>{errorcreateConsumer}</Message>}\n            { deleteLoadingConsumer && <Loader />}\n            { errorDeleteConsumer && <Message variant='danger'>{errorDeleteConsumer}</Message>}\n            {loadingConsumer ? <Loader />\n                : errorConsumer ? <Message variant='danger'>{errorConsumer}</Message>\n                    : (\n                        <Table style={{ marginBottom: '50px' }} striped bordered hover responsive className='table-sm'>\n                            <thead>\n                                <tr>\n                                    <td>ID</td>\n                                    <td>SELLER NAME</td>\n                                    <td>PRODUCT NAME</td>\n                                    <td>AVALAIBLE LOCATION</td>\n                                    <td>EDIT / DELETE</td>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {\n                                    consumerProducts.map(consumer => (\n                                        <tr key={consumer._id}>\n                                            <td>{consumer._id}</td>\n                                            <td>{consumer.seller_name}</td>\n                                            <td>{consumer.prod_name}</td>\n                                            <td>{consumer.avalaible_location}</td>\n                                            <td>\n                                                <LinkContainer to={`/admin/productlist/consumer/${consumer._id}/edit`}>\n                                                    <Button variant=\"light\" className=\"btn btn-sm\">\n                                                        <i className=\"fas fa-edit\"></i>\n                                                    </Button>\n                                                </LinkContainer>\n                                                <Button\n                                                    variant=\"danger\"\n                                                    className=\"btn-sm mr-2\"\n                                                    onClick={() => deleteHandler(consumer._id)}\n                                                >\n                                                    <i className=\"fas fa-trash-alt\"></i>\n                                                </Button>\n                                            </td>\n                                        </tr>\n                                    ))\n                                }\n                            </tbody>\n                        </Table>\n                    )\n            }\n        </Container>\n    )\n}\n\nexport default ConsumerList\n"]},"metadata":{},"sourceType":"module"}