{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect}from'react';import{LinkContainer}from'react-router-bootstrap';import{Table,Button,Container,Col,Row}from'react-bootstrap';import{useHistory}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import Message from'./../../../../components/Message/Message';import Loader from'./../../../../components/Loader/Loader';import{listLendMachineProducts,deleteLendMachineProduct,createLendMachine}from'./../../../../actions/productLendMachinesActions';import{MACHINE_CREATE_RESET}from'./../../../../constants/productConstants';var SeedList=function SeedList(){var dispatch=useDispatch();var history=useHistory();var productLendMachinesList=useSelector(function(state){return state.productLendMachinesList;});var loadingMachine=productLendMachinesList.loading,errorMachine=productLendMachinesList.error,productLendMachines=productLendMachinesList.productLendMachines;var productLendMachinesDelete=useSelector(function(state){return state.productLendMachinesDelete;});var loadingDelete=productLendMachinesDelete.loading,errorDelete=productLendMachinesDelete.error,successDelete=productLendMachinesDelete.success;var LendMachinesCreate=useSelector(function(state){return state.LendMachinesCreate;});var loadingCreate=LendMachinesCreate.loading,errorCreate=LendMachinesCreate.error,successCreate=LendMachinesCreate.success,productCreate=LendMachinesCreate.product;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;useEffect(function(){dispatch({type:MACHINE_CREATE_RESET});if(!userInfo.isAdmin&&!userInfo){history.push('/login');}else{if(successCreate){history.push(\"/admin/productlist/machine/\".concat(productCreate._id,\"/edit\"));}else{dispatch(listLendMachineProducts());}}},[dispatch,history,userInfo,successDelete,successCreate,productCreate]);var deleteHandler=function deleteHandler(id){if(window.confirm('Are you sure')){dispatch(deleteLendMachineProduct(id));}};var createMachineProductHandler=function createMachineProductHandler(){dispatch(createLendMachine());};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h1\",{style:{marginBottom:'20px'},children:\"Lend Machines\"})}),/*#__PURE__*/_jsx(Col,{className:\"text-right\",children:/*#__PURE__*/_jsxs(Button,{className:\"my-3\",onClick:createMachineProductHandler,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\" Create Product\"]})})]}),loadingCreate&&/*#__PURE__*/_jsx(Loader,{}),errorCreate&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorCreate}),loadingDelete&&/*#__PURE__*/_jsx(Loader,{}),errorDelete&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorDelete}),loadingMachine?/*#__PURE__*/_jsx(Loader,{}):errorMachine?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorMachine}):/*#__PURE__*/_jsxs(Table,{style:{marginBottom:'50px'},striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"td\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"td\",{children:\"TARGET PLANT\"}),/*#__PURE__*/_jsx(\"td\",{children:\"MACHINE POWER\"}),/*#__PURE__*/_jsx(\"td\",{children:\"EDIT / DELETE\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:productLendMachines.map(function(machine){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:machine._id}),/*#__PURE__*/_jsx(\"td\",{children:machine.name}),/*#__PURE__*/_jsx(\"td\",{children:machine.target_plant}),/*#__PURE__*/_jsx(\"td\",{children:machine.machine_power}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/productlist/machine/\".concat(machine._id,\"/edit\"),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btn-sm mr-2\",onClick:function onClick(){return deleteHandler(machine._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash-alt\"})})]})]},machine._id);})})]})]});};export default SeedList;","map":{"version":3,"sources":["C:/Users/hasit/Desktop/Project new new/web-cw-main/web-cw-main/frontend/src/components/DashBoard/ProductList/LendMachineList/LendMachineList.jsx"],"names":["React","useEffect","LinkContainer","Table","Button","Container","Col","Row","useHistory","useDispatch","useSelector","Message","Loader","listLendMachineProducts","deleteLendMachineProduct","createLendMachine","MACHINE_CREATE_RESET","SeedList","dispatch","history","productLendMachinesList","state","loadingMachine","loading","errorMachine","error","productLendMachines","productLendMachinesDelete","loadingDelete","errorDelete","successDelete","success","LendMachinesCreate","loadingCreate","errorCreate","successCreate","productCreate","product","userLogin","userInfo","type","isAdmin","push","_id","deleteHandler","id","window","confirm","createMachineProductHandler","marginBottom","map","machine","name","target_plant","machine_power"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport {\n    Table,\n    Button,\n    Container,\n    Col,\n    Row\n} from 'react-bootstrap'\nimport { useHistory } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Message from './../../../../components/Message/Message'\nimport Loader from './../../../../components/Loader/Loader'\nimport { listLendMachineProducts, deleteLendMachineProduct, createLendMachine } from './../../../../actions/productLendMachinesActions'\nimport { MACHINE_CREATE_RESET } from './../../../../constants/productConstants'\n\nconst SeedList = () => {\n\n    const dispatch = useDispatch()\n    let history = useHistory()\n\n    const productLendMachinesList = useSelector(state => state.productLendMachinesList)\n    const { loading: loadingMachine, error: errorMachine, productLendMachines } = productLendMachinesList\n\n    const productLendMachinesDelete = useSelector(state => state.productLendMachinesDelete)\n    const { loading: loadingDelete, error: errorDelete, success: successDelete } = productLendMachinesDelete\n\n    const LendMachinesCreate = useSelector(state => state.LendMachinesCreate)\n    const { loading: loadingCreate, error: errorCreate, success: successCreate, product: productCreate } = LendMachinesCreate\n\n    const userLogin = useSelector(state => state.userLogin)\n    const { userInfo } = userLogin\n\n    useEffect(() => {\n        dispatch({ type: MACHINE_CREATE_RESET })\n        if (!userInfo.isAdmin && !userInfo) {\n            history.push('/login')\n        } else {\n            if (successCreate) {\n                history.push(`/admin/productlist/machine/${productCreate._id}/edit`)\n            } else {\n                dispatch(listLendMachineProducts())\n            }\n        }\n    }, [dispatch, history, userInfo, successDelete, successCreate, productCreate])\n\n    const deleteHandler = (id) => {\n        if (window.confirm('Are you sure')) {\n            dispatch(deleteLendMachineProduct(id))\n        }\n    }\n\n    const createMachineProductHandler = () => {\n        dispatch(createLendMachine())\n    }\n\n    return (\n        <Container>\n            <Row>\n                <Col>\n                    <h1 style={{ marginBottom: '20px' }}>Lend Machines</h1>\n                </Col>\n                <Col className=\"text-right\">\n                    <Button className='my-3' onClick={createMachineProductHandler}>\n                        <i className='fas fa-plus'></i> Create Product\n                    </Button>\n                </Col>\n            </Row>\n            { loadingCreate && <Loader />}\n            { errorCreate && <Message variant='danger'>{errorCreate}</Message>}\n            { loadingDelete && <Loader />}\n            { errorDelete && <Message variant='danger'>{errorDelete}</Message>}\n            {loadingMachine ? <Loader />\n                : errorMachine ? <Message variant='danger'>{errorMachine}</Message>\n                    : (\n                        <Table style={{ marginBottom: '50px' }} striped bordered hover responsive className='table-sm'>\n                            <thead>\n                                <tr>\n                                    <td>ID</td>\n                                    <td>NAME</td>\n                                    <td>TARGET PLANT</td>\n                                    <td>MACHINE POWER</td>\n                                    <td>EDIT / DELETE</td>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {\n                                    productLendMachines.map(machine => (\n                                        <tr key={machine._id}>\n                                            <td>{machine._id}</td>\n                                            <td>{machine.name}</td>\n                                            <td>{machine.target_plant}</td>\n                                            <td>{machine.machine_power}</td>\n                                            <td>\n                                                <LinkContainer to={`/admin/productlist/machine/${machine._id}/edit`}>\n                                                    <Button variant=\"light\" className=\"btn btn-sm\">\n                                                        <i className=\"fas fa-edit\"></i>\n                                                    </Button>\n                                                </LinkContainer>\n                                                <Button\n                                                    variant=\"danger\"\n                                                    className=\"btn-sm mr-2\"\n                                                    onClick={() => deleteHandler(machine._id)}\n                                                >\n                                                    <i className=\"fas fa-trash-alt\"></i>\n                                                </Button>\n                                            </td>\n                                        </tr>\n                                    ))\n                                }\n                            </tbody>\n                        </Table>\n                    )\n            }\n        </Container>\n    )\n}\n\nexport default SeedList\n"]},"metadata":{},"sourceType":"module"}