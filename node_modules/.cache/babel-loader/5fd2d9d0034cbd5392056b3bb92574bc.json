{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect}from'react';import{LinkContainer}from'react-router-bootstrap';import{Table,Button,Container,Image}from'react-bootstrap';import{Scrollbar}from\"react-scrollbars-custom\";import{useHistory}from\"react-router-dom\";import{useDispatch,useSelector}from'react-redux';import Message from'./../../../components/Message/Message';import Loader from'./../../../components/Loader/Loader';import{listSupplierProducts}from'./../../../actions/supplierProduct';var Harvest=function Harvest(){var dispatch=useDispatch();var history=useHistory();var supplierProductList=useSelector(function(state){return state.supplierProductList;});var loadingProducts=supplierProductList.loading,errorProducts=supplierProductList.error,products=supplierProductList.products;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;useEffect(function(){if(!userInfo.isAdmin&&!userInfo){history.push('/login');}else{dispatch(listSupplierProducts());}},[dispatch,history,userInfo]);return/*#__PURE__*/_jsx(Container,{fluid:true,children:/*#__PURE__*/_jsx(Scrollbar,{style:{width:'100%',height:450},children:loadingProducts?/*#__PURE__*/_jsx(Loader,{}):errorProducts?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorProducts}):/*#__PURE__*/_jsxs(Table,{style:{marginBottom:'50px',marginTop:\"5px\"},striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{style:{fontWeight:\"bold\"},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"td\",{children:\"ADDRESS\"}),/*#__PURE__*/_jsx(\"td\",{children:\"IMAGE\"}),/*#__PURE__*/_jsx(\"td\",{children:\"DESCRPTION\"}),/*#__PURE__*/_jsx(\"td\",{children:\"CONTACT\"}),/*#__PURE__*/_jsx(\"td\",{children:\"CROP\"}),/*#__PURE__*/_jsx(\"td\",{children:\"MORE\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:product.address}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Image,{src:product.image,rounded:true,width:\"60px\"})}),/*#__PURE__*/_jsx(\"td\",{children:product.description}),product.phonenumber?/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{rel:\"noreferrer\",target:\"_blank\",href:\"https://wa.me/\".concat(product.phonenumber),children:product.phonenumber})}):/*#__PURE__*/_jsx(\"td\",{children:\"Null\"}),/*#__PURE__*/_jsx(\"td\",{children:product.cropSelection}),/*#__PURE__*/_jsx(\"td\",{children:product.isReviwed?/*#__PURE__*/_jsx(LinkContainer,{to:\"/supplierproducts/\".concat(product._id,\"/review\"),children:/*#__PURE__*/_jsx(Button,{disabled:true,variant:\"danger\",className:\"btn-sm mr-2\",children:\"Reviewed\"})}):/*#__PURE__*/_jsx(LinkContainer,{to:\"/supplierproducts/\".concat(product._id,\"/review\"),children:/*#__PURE__*/_jsxs(Button,{variant:\"primary\",className:\"btn-sm mr-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye\"}),\" Review\"]})})})]},product._id);})})]})})});};export default Harvest;","map":{"version":3,"sources":["C:/Users/hasit/Desktop/Project new new/web-cw-main/web-cw-main/frontend/src/components/DashBoard/Harvest/Harvest.jsx"],"names":["React","useEffect","LinkContainer","Table","Button","Container","Image","Scrollbar","useHistory","useDispatch","useSelector","Message","Loader","listSupplierProducts","Harvest","dispatch","history","supplierProductList","state","loadingProducts","loading","errorProducts","error","products","userLogin","userInfo","isAdmin","push","width","height","marginBottom","marginTop","fontWeight","map","product","name","address","image","description","phonenumber","cropSelection","isReviwed","_id"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport {\n    Table,\n    Button,\n    Container,\n    Image\n} from 'react-bootstrap'\nimport { Scrollbar } from \"react-scrollbars-custom\";\nimport { useHistory } from \"react-router-dom\"\nimport { useDispatch, useSelector } from 'react-redux'\nimport Message from './../../../components/Message/Message'\nimport Loader from './../../../components/Loader/Loader'\nimport { listSupplierProducts } from './../../../actions/supplierProduct'\n\nconst Harvest = () => {\n\n    const dispatch = useDispatch()\n    let history = useHistory()\n\n    const supplierProductList = useSelector(state => state.supplierProductList)\n    const { loading: loadingProducts, error: errorProducts, products } = supplierProductList\n\n    const userLogin = useSelector(state => state.userLogin)\n    const { userInfo } = userLogin\n\n    useEffect(() => {\n        if (!userInfo.isAdmin && !userInfo) {\n            history.push('/login')\n        } else {\n            dispatch(listSupplierProducts())\n        }\n    }, [dispatch, history, userInfo])\n\n    return (\n        <Container fluid>\n            <Scrollbar style={{ width: '100%', height: 450 }}>\n                {loadingProducts ? <Loader />\n                    : errorProducts ? <Message variant='danger'>{errorProducts}</Message>\n                        : (\n                            <Table style={{ marginBottom: '50px', marginTop: \"5px\" }} striped bordered hover responsive className='table-sm'>\n                                <thead style={{ fontWeight: \"bold\" }}>\n                                    <tr>\n                                        <td>NAME</td>\n                                        <td>ADDRESS</td>\n                                        <td>IMAGE</td>\n                                        <td>DESCRPTION</td>\n                                        <td>CONTACT</td>\n                                        <td>CROP</td>\n                                        <td>MORE</td>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {\n                                        products.map(product => (\n                                            <tr key={product._id}>\n                                                <td>{product.name}</td>\n                                                <td>{product.address}</td>\n                                                <td>\n                                                    <Image src={product.image} rounded width=\"60px\" />\n                                                </td>\n                                                <td>{product.description}</td>\n                                                {\n                                                    product.phonenumber\n                                                        ? <td>\n                                                            <a rel=\"noreferrer\" target='_blank' href={`https://wa.me/${product.phonenumber}`}>{product.phonenumber}</a>\n                                                        </td>\n                                                        : <td>Null</td>\n                                                }\n                                                <td>{product.cropSelection}</td>\n                                                <td>\n                                                    {\n                                                        product.isReviwed ? (\n                                                            <LinkContainer to={`/supplierproducts/${product._id}/review`}>\n                                                                <Button\n                                                                    disabled\n                                                                    variant=\"danger\"\n                                                                    className=\"btn-sm mr-2\">Reviewed\n                                                                    </Button>\n                                                            </LinkContainer>\n                                                        ) : (\n                                                                <LinkContainer to={`/supplierproducts/${product._id}/review`}>\n                                                                    <Button\n                                                                        variant=\"primary\"\n                                                                        className=\"btn-sm mr-2\">\n                                                                        <i className=\"fas fa-eye\"></i> Review\n                                                                    </Button>\n                                                                </LinkContainer>\n                                                            )\n                                                    }\n                                                </td>\n                                            </tr>\n                                        ))\n                                    }\n                                </tbody>\n                            </Table>\n                        )\n                }\n            </Scrollbar>\n        </Container>\n    )\n}\n\nexport default Harvest\n"]},"metadata":{},"sourceType":"module"}